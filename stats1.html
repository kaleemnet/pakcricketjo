
<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0' name='viewport'>
<meta property="og:title" content="Pakistan Cricket Jordan Player Stats - 2015"/>
<meta property="og:type" content="article"/>
<meta property="og:site_name" content="Pakistan Cricket Jordan Player Stats - 2015"/>
<meta property="og:description" content="Pakistan Cricket Jordan Player Stats - 2015"/>
    <title>Pakistan Cricket Jordan Player Stats - 2015 </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css" media="screen">

    <link rel="stylesheet" href="css/bootswatch.min.css">
    <link rel="stylesheet" href="css/font-humanitarian.css">

    <link rel="stylesheet" type="text/css" href="css/dc.css"/>

    <link rel="stylesheet" type="text/css" href="css/dashboard.css"/>
    <!---->
    <!-- Add IntroJs styles and JS -->
    <link rel="stylesheet" type="text/css" href="css/introjs.min.css" >
    <script type="text/javascript" src="js/intro.min.js"></script>
    <script src="js/jquery.js"></script>
    <!-- map the data to the GeoJSON object -->
    <script src="js/data-jo.js"></script>
    <link href="http://www.unhcr.org/favicon.ico" rel="icon" type="image/x-icon">
    <!-- hide and display Disclaimer -->
    <script>
        function show(shown, hidden) {
          document.getElementById(shown).style.display='block';
          document.getElementById(hidden).style.display='none';
          return false;
        }
    </script>
  </head>

  <body>
    <div class ="col-sm-4 col-md-offset4" id="loading">
        <small>This webpage does not work on IE8 or older... Upgrade your browser if needed</a></a></small>
    </div>
    <div class="container" id="dashboard">
		
        <div class="socialmedia" data-step="13" data-intro="Share!!" data-position="left" style="width: 146; height: 19">
            <table>
              <tbody><tr>
               
            </tr>
            </tbody></table>
        </div>
		
        <div class="row" >
            <h1>
               <a href="http://pakcricketjo.com"><img src="images/logo.png" style="height: 48px; width: 88px"></a>
               <strong>Pakistan Cricket Jordan Player Statistics - 2015</strong>
            </h1>
                <br>
            <h2>
            <a class="btn btn-default">Runs Scored <a  class="btn btn-primary"><span id="totalrequired" class="number-display"></span></a></a>
            <a class="btn btn-default">Sixes <a  class="btn btn-info"><span id="totalreceived" class="number-display"></span></a></a>
            <a class="btn btn-default">Fours <a  class="btn btn-info"><span id="totalgap" class="number-display"></span></a></a>
            <a class="btn btn-default">Wickets <a  class="btn btn-warning"><span id="totalwickets" class="number-display"></span></a></a>
           <!--
           <a class="btn btn-default">Gap <a  class="btn btn-danger">% <span id="totalpercentage" class="number-display"></span></a></a>
           -->
            </h2>
            <br>
            <div id="count-info" >
                 You have selected <strong><span class="filter-count "></span> reports</strong> out of a total of <span class="total-count "></span> reports
                 <a class="btn btn-primary btn-sm" href="javascript:dc.filterAll();dc.redrawAll();">Click to reset all filters</a>
            </div>

       </div>
       <div class="row">
       
            <div class="col-md-6">
 		                <div class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
 		                
                <div id="matchtype"> <h4 align="center">Match Type</h4> </div>   
                </div>
                
                  <div id="runsscored" class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
                  <center> <h4>Runs Scored by Player</h4> </center>             
                 </div>
                  </div>
                  <div class="row">
                <div id="poptype" class="col-xs-12" data-step="1" data-intro="Click on this pie chart to filter by sector." data-position='right'>
                  <center> <h4>Extras/Catches</h4> </center>
                </div>
              </div>

                  
<!--
			<center>
              <div id="poptype" class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
              
    <center> <h4>Extras/Catches</h4> </center>
                </div>
              </div>
              
              </div>
            </div>
       </div>
    </div>

              
                
<div id="gapReceived" class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
                  <center> <h4>Distribution of received funds/gap across Sectors</h4> </center>
                </div>
              </div>

              <div class="row">
                <center>
                   <table width=100% cellspacing=1 cellpadding=1>
                        <tr>
                            <td></td>
                            <td></td>
                            <td><img src="images/basicassistance.svg" alt="Basic Needs" height="30px" width="30px"></td>
                            <td><img src="images/education.svg" alt="Education" height="30px" width="30px"></td>
                            <td><img src="images/foodsecurity.svg" alt="Food Security" height="30px" width="30px"></td>
                            <td><img src="images/health.svg" alt="Health" height="30px" width="30px"></td>
                            <td><img src="images/protection.svg" alt="Protection" height="30px" width="30px"></td>
                            <td><img src="images/shelter.svg" alt="Shelter" height="30px" width="30px"></td>
                            <td><img src="images/wash.svg" alt="WASH" height="30px" width="30px"></td>
                            <td></td>
                        </tr>
                    </table>-->
                </center> 
                <br>
              </div>
              </div>
              <div class="col-md-6">
              <div class="row">
					<div id="wickets" class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
                  <center> <h4>Wickets Taken by Player</h4> </center>
                  </div>
                <div id="runsconceded" class="col-xs-6" data-step="1" data-intro="Click on this pie chart to filter by wickets." data-position='right'>
                  <center> <h4>Runs Conceded by Player</h4> </center>
                </div>
              </div>
            </div>
       </div>
    </div>
     
    <div width="100%" style="background:#006CA9; height:25px" align=right>
        <span  class="demoTableRow"><font color="#FFFFFF">
            Produced by Kaleem ur Rehman with the support from Mukesh Karn. </font>
         </span> &nbsp;&nbsp;&nbsp;
    </div>

    <script type="text/javascript" src="js/d3_002.js"></script>
    <script type="text/javascript" src="js/crossfilter.js"></script>
    <script type="text/javascript" src="js/dc.js"></script>
    <script type="text/javascript" src="js/d3.tip.min.js"></script>
    <script>

        $('#dashboard').hide();
      //  var gap_chart = dc.pieChart("#gap");
        var wickets_chart = dc.rowChart("#wickets");
        var poptype_chart = dc.pieChart("#poptype");
        var matchtype_chart = dc.rowChart("#matchtype");
        var runsscored_chart = dc.rowChart("#runsscored");
        var runsconceded_chart = dc.rowChart("#runsconceded");
        var gapReceived_chart = dc.barChart("#gapReceived");


        d3.csv("stats/data.csv", function(csv_data){
            var numberFormat = d3.format(",f");
            var cf = crossfilter(csv_data);
            var all = cf.groupAll();
            // Implement bookmarking chart filters status --> Thanks to https://github.com/franckalbinet
            // Serializing filters values in URL
            function getFiltersValues() {
                var filters = [
                //    { name: 'gap', value: gap_chart.filters()},
                    { name: 'wickets', value: wickets_chart.filters()},
                     { name: 'poptype', value: poptype_chart.filters()},
                    { name: 'matchtype', value: matchtype_chart.filters()},
                    { name: 'runsscored', value: runsscored_chart.filters()},
                    { name: 'runsscored', value: runsconceded_chart.filters()}
                    ];

                var recursiveEncoded = $.param( filters );
                location.hash = recursiveEncoded;
            }
            // Init chart filters
            function initFilters() {
                // Get hash values
                var parseHash = /^#wickets=([A-Za-z0-9,_\-\/\s]*)&status=([A-Za-z0-9,_\-\/\s]*)&org=([A-Za-z0-9,_\-\/\s]*)&map=([A-Za-z0-9,_\-\/\s]*)$/;
                var parsed = parseHash.exec(decodeURIComponent(location.hash));
                function filter(chart, rank) {  // for instance chart = wickets_chart and rank in URL hash = 1
                    // wickets chart
                    if (parsed[rank] == "") {
                        chart.filter(null);
                    }
                    else {
                        var filterValues = parsed[rank].split(",");
                        for (var i = 0; i < filterValues.length; i++ ) {
                            chart.filter(filterValues[i]);
                        }
                    }
                }
                if (parsed) {
                    filter(wickets_chart, 1);
                    filter(matchtype_chart, 2);
                    filter(runsscored_chart, 3);
                    filter(runsconceded_chart, 4);
                    filter(appeal_chart, 5);
                //    filter(gap_chart, 5);

                }
            }

            // tooltips for row chart
            var rowTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.key + "</span> : "  + numberFormat(d.value); });

            // tooltips for pie chart
            var pieTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" +  d.data.key + "</span> : "  + numberFormat(d.value); });

            // tooltips for bar chart
            var barTip = d3.tip()
                  .attr('class', 'd3-tip')
                  .offset([-10, 0])
                  .html(function (d) { return "<span style='color: #f0027f'>" + d.data.key + "</span> : " + numberFormat(d.y);});


            cf.matchtype = cf.dimension(function(d) { return d.Quarter; });
            var matchtypeByTotal = cf.matchtype.group().reduceSum(function (d) { return d.Receive; });
            var matchtype = cf.matchtype.group();
            matchtype_chart.width(250).height(150)
                .dimension(cf.matchtype)
                .group(matchtypeByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) { return group.top(4); })
                .colors(['#5bc0de'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));


            cf.wickets = cf.dimension(function(d) { return d.Partner; });
            var wicketsByTotal = cf.wickets.group().reduceSum(function (d) { return d.Wickets; });
            var wickets = cf.wickets.group();
            wickets_chart.width(250).height(500)
                .dimension(cf.wickets)
                .group(wicketsByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) { return group.top(10); })
                .colors(['#5bc0de'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));
                
            cf.poptype = cf.dimension(function(d) { return d.Extra; });
                var poptype = cf.poptype.group();
                var poptypeByTotal = cf.poptype.group().reduceSum(function (d) { return d.Value;} );
                   poptype_chart.width(100).height(100)
                       .dimension(cf.poptype)
                       .group(poptypeByTotal)
                       .innerRadius(10)
                       .colors(['#8da0cb', /* boys */
                               '#fc8d62', /* girls */
                               '#e78ac3', /* men */
                               ])
                       .colorDomain([0,4])
                       .renderLabel(true)
                       .colorAccessor(function(d, i){return i%4;})
                       .on("filtered", getFiltersValues);


            cf.runsscored = cf.dimension(function(d) { return d.Partner; });
            var runsscoredByTotal = cf.runsscored.group().reduceSum(function (d) { return d.Receive; });
            var runsscored = cf.runsscored.group();
            runsscored_chart.width(250).height(500)
                .dimension(cf.runsscored)
                .group(runsscoredByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) { return group.top(20); })
                .colors(['#5bc0de'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));

            cf.runsconceded = cf.dimension(function(d) { return d.Partner; });
            var runsconcededByTotal = cf.runsscored.group().reduceSum(function (d) { return (d.Gap); });
            var runsconceded = cf.runsconceded.group();
            runsconceded_chart.width(250).height(500)
                .dimension(cf.runsconceded)
                .group(runsconcededByTotal)
                .elasticX(true)
                .on("filtered", getFiltersValues)
                .data(function(group) { return group.top(20); })
                .colors(['#e99002'])
                .colorDomain([0,0])
                .colorAccessor(function(d, i){return 1;})
                .xAxis().ticks(4).tickFormat(d3.format("s"));


            cf.wicketsGroup = cf.dimension(function(d) { return d.Sector; });
            cf.gapReceived = cf.dimension(function(d) { return d.Receive; });
            var gapByTotal = cf.wicketsGroup.group().reduceSum(function (d) { return (d.Gap); });
            var receiveByTotal = cf.wicketsGroup.group().reduceSum(function (d) { return d.Receive; });
            var wicketss = ["Basic Needs","Education","Food","Health","Protection","Sector","Shelter","WASH"];
            var gapReceived = cf.gapReceived.group();
            var wicketsGroup = cf.wicketsGroup.group();
            /* when any bar is clicked, recolor the chart */
            var colorRenderlet = function (_chart) {
                _chart.selectAll("rect.bar")
                        .on("click", function (d) {
                            function setAttr(selection, keyName) {
                                selection.style("fill", function (d) {
                                    if (d[keyName] == "Received") return "#5bc0de";
                                    else if (d[keyName] == "Gap") return "#e99002";
                                });
                            };
                            setAttr(_chart.selectAll("g.stack").selectAll("rect.bar"), "layer")
                            setAttr(_chart.selectAll("g.dc-legend-item").selectAll("rect"), "name")
                        });
            };            
            gapReceived_chart.width(500).height(240)
                .margins({top: 50, right: 20, left: 75, bottom: 20})
                .dimension(wicketsGroup)
                .group(receiveByTotal,"Received")
                .stack(gapByTotal,"Gap")
                .x(d3.scale.ordinal().domain(wicketsGroup))
                .xUnits(dc.units.ordinal)
                .renderHorizontalGridLines(true)
                .barPadding(0.2)
                .outerPadding(0.05)
                .elasticY(true)
                .brushOn(false)
                .renderlet(colorRenderlet)
                .legend(dc.legend().x(375).y(10).itemHeight(15).gap(1));

            dc.dataCount("#count-info")
                .dimension(cf)
                .group(all);

            var byRequired = cf.dimension(function(d) { return d.Receive; });
            var byRequiredGroup = byRequired.groupAll().reduceSum(function (d) { return d.Receive; });
            dc.numberDisplay("#totalrequired")
                   .valueAccessor(function(d){return +d})
                    .group(byRequiredGroup);

            var byReceived = cf.dimension(function(d) { return d.Sixes; });
            var byReceivedGroup = byReceived.groupAll().reduceSum(function (d) { return d.Sixes; });
            dc.numberDisplay("#totalreceived")
                   .valueAccessor(function(d){return +d})
                    .group(byReceivedGroup);

            var byGap = cf.dimension(function(d) { return d.Fours; });
            var byGapGroup = byGap.groupAll().reduceSum(function (d) { return d.Fours; });
            dc.numberDisplay("#totalgap")
                   .valueAccessor(function(d){return +d})
                    .group(byGapGroup);
                    
            var byWickets = cf.dimension(function(d) { return d.Wickets; });
            var byWicketsGroup = byWickets.groupAll().reduceSum(function (d) { return d.Wickets; });
            dc.numberDisplay("#totalwickets")
                   .valueAccessor(function(d){return +d})
                    .group(byWicketsGroup);

			
          // var byPercentage = cf.dimension(function(d) { return d.Percentage; });
          // var byPercentageGroup = byPercentage.groupAll().reduceSum(function (d) { return d.Percentage; });
            var byPercentage = cf.dimension(function (d) { return (d.Gap / d.Required);});
            var byPercentageGroup = byPercentage.groupAll().reduceSum(function (d) { return (d.Gap / d.Required);});
            dc.numberDisplay("#totalpercentage")
                   .valueAccessor(function(d){return +d})
                    .group(byPercentageGroup);


            $('#loading').hide();
            $('#dashboard').show();
            dc.renderAll();

            /* Customised infobox */
            d3.selectAll("g.row").call(rowTip);
            d3.selectAll("g.row").on('mouseover', rowTip.show).on('mouseout', rowTip.hide);

            var stackChart = 'div#gapReceived.dc-chart rect';
            d3.selectAll(stackChart).call(barTip);
            d3.selectAll(stackChart).on('mouseover', barTip.show).on('mouseout', barTip.hide);

            }
            );

              </script>
    <script src="js/bootstrap.js"></script>

      <!-- Piwik -->
        <script type="text/javascript">
        var pkBaseURL = (("https:" == document.location.protocol) ? "https://data.unhcr.org/piwik/" : "http://data.unhcr.org/piwik/");
        document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
              </script><script type="text/javascript">
        try {
        var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 14);
        piwikTracker.trackPageView();
        piwikTracker.enableLinkTracking();
        } catch( err ) {}
              </script><noscript>
              <p><img src="http://data.unhcr.org/piwik/piwik.php?idsite=14" style="border:0" alt="" /></p></noscript>
      <!-- End Piwik Tracking Code -->


  </body>
</html>